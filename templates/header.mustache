{{!
	This file is part of Moodle - http://moodle.org/

	Moodle is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	Moodle is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
	Page header.
}}

<nav id="header" class="navbar navbar-light navbar-expand"
     aria-label="{{#str}}sitemenubar, admin{{/str}}">

    <div class="container-fluid">
        <div class="header-menubar header-menubar-inner">

            <div class="header-logo">
                <a class="navbar-brand" href="{{{config.wwwroot}}}/?redirect=0">
                    {{{logourl_header}}}
                </a>
            </div>

            <button class="navbar-toggler aabtn d-block d-md-none px-1 my-1 border-0" data-toggler="drawers"
                    data-action="toggle" data-target="theme_boost-drawers-primary">
                <span class="navbar-toggler-icon"></span>
                <span class="sr-only">{{#str}}sidepanel, core{{/str}}</span>
            </button>

            {{#primarymoremenu}}
                <div class="primary-navigation">
                    {{> core/moremenu}}
                </div>
            {{/primarymoremenu}}
            <div class="primary-navigation">
                <div class="custom-menu navigation">
                    <ul class="navbar-nav mr-auto">
                        {{{output.custom_menu}}}
                    </ul>
                </div>
            </div>

            <ul class="navbar-nav d-none d-md-flex my-1 px-1">
                <!-- page_heading_menu -->
                {{{output.page_heading_menu}}}
            </ul>

            <div id="usernavigation" class="navbar-nav ml-auto">
                {{#output.search_box}}
                    {{{output.search_box}}}
                    <div class="divider border-left h-75 align-self-center mx-1"></div>
                {{/output.search_box}}
                {{#langmenu}}
                    {{> theme_boost/language_menu}}
                    <div class="divider border-left h-75 align-self-center mx-1"></div>
                {{/langmenu}}
                {{{output.navbar_plugin_output}}}
                <div class="d-flex align-items-center usermenu-container" data-region="usermenu">
                    {{#usermenu}}
                        {{> core/user_menu}}
                    {{/usermenu}}
                </div>
                {{{output.edit_switch}}}
            </div>
        </div>
    </div>
</nav>

{{> theme_boost/primary-drawer-mobile}}

{{#js}}
    require(['jquery'], function($) {
        var header = $("#header");
        $(window).on('scroll', window_scroll);
        window_scroll();

        function window_scroll() {
            var top = $(window).scrollTop();
            if (top > 90) {
                header.removeClass("animation");
                header.addClass("fixed-top");
                header.addClass("animation");
            }
            if (top < 15) {
                header.removeClass("fixed-top");
            }
        }
    });
{{/js}}
